<!-- class_detail.html -->
{% extends 'base.html' %}
{% block content %}
<div class="class-detail-container">
    <h1>{{ course.name }} - Class Details</h1>

        <!-- Assignment Form -->
        <div class="form-section">
            <h2>Add New Assignment</h2>
            <form method="post" action="">
                {% csrf_token %}
                {{ assignment_form.as_p }}
                <button type="submit" name="add_assignment" class="btn">Add Assignment</button>
            </form>
        </div>
    
        <!-- Announcement Form -->
        <div class="form-section">
            <h2>Add New Announcement</h2>
            <form method="post" action="">
                {% csrf_token %}
                {{ announcement_form.as_p }}
                <button type="submit" name="add_announcement" class="btn">Add Announcement</button>
            </form>
        </div>

    <!-- Display Existing Assignments -->
    <div class="section">
        <h2>Assignments</h2>
        <ul class="assignment-list">
            {% for assignment in assignments %}
            <li class="assignment-item">
                <h3>{{ assignment.title }}</h3>
                <p><strong>Description:</strong> {{ assignment.description }}</p>
                <p><strong>Start Date:</strong> {{ assignment.start_date|date:"F j, Y" }} at {{ assignment.start_time|date:"h:i a" }}</p>
                <p><strong>Due Date:</strong> {{ assignment.due_date|date:"F j, Y" }} at {{ assignment.due_time|date:"h:i a" }}</p>
            </li>
            {% empty %}
            <p>No assignments available for this class.</p>
            {% endfor %}
        </ul>
    </div>

    <!-- Display Existing Announcements -->
    <div class="section">
        <h2>Announcements</h2>
        <ul class="announcement-list">
            {% for announcement in announcements %}
            <li class="announcement-item">
                <h3>{{ announcement.title }}</h3>
                <p><strong>Details:</strong> {{ announcement.details }}</p>
                <p><strong>Start Date:</strong> {{ announcement.start_date|date:"F j, Y" }} at {{ announcement.start_time|date:"h:i a" }}</p>
                <p><strong>Due Date:</strong> {{ announcement.due_date|date:"F j, Y" }} at {{ announcement.due_time|date:"h:i a" }}</p>
            </li>
            {% empty %}
            <p>No announcements available for this class.</p>
            {% endfor %}
        </ul>
    </div>


</div>

<style>
    .class-detail-container {
        padding: 20px;
        background-color: #f7f7f7;
        border-radius: 8px;
        box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
        margin: 20px auto;
        width: 80%;
    }

    .form-section {
        margin-bottom: 30px;
    }

    .form-section h2 {
        font-size: 18px;
        margin-bottom: 15px;
    }

    .form-section form {
        background-color: #fff;
        padding: 15px;
        border-radius: 8px;
        box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.1);
    }

    .form-section form .btn {
        background-color: #4CAF50;
        color: white;
        padding: 10px 15px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
    }

    .section {
        margin-bottom: 30px;
    }

    .assignment-list, .announcement-list {
        list-style-type: none;
        padding: 0;
    }

    .assignment-item, .announcement-item {
        background-color: #fff;
        padding: 15px;
        border: 1px solid #ddd;
        border-radius: 8px;
        margin-bottom: 15px;
        box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.1);
    }

    .assignment-item h3, .announcement-item h3 {
        margin-top: 0;
    }

    .assignment-item p, .announcement-item p {
        margin: 5px 0;
    }
</style>
{% endblock %}
